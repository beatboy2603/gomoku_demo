<!DOCTYPE html>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <title>Chat room</title>
        <meta charset="UTF-8"/>
        <link rel="icon" href="https://freepngimg.com/download/chat/7-2-chat-png-hd.png"/>
        <link th:href="@{/css/chat.css}" rel="stylesheet" type="text/css"/>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
        <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.11.4/jquery-ui.min.js" type="text/javascript"></script>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css"/>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
        <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet"/>
    </head>
    <body class="orange lighten-2 container" style="user-select: none;">
        <!--        <div id="registerDiv">
                    <div class="container center">
                        <div class="card">
                            <form>
                                <div class="card-content" th:object="${alo}">
                                    <span class="card-title">Type your name</span>
                                    <input type="text" id="username" name="username" placeholder="Username"/>
                                </div>
                                <div class="card-action">
                                    <button class="waves-effect waves-light btn" onclick="connectSocket(event)">
                                        Join Public Room
                                        <i class="material-icons right">send</i>
                                    </button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>-->

        <div class="row">
            <div id="publicRoomDiv" class="col s9">

            </div>
            <div id="friendList" class="col s2 card" style='position: sticky; top: 5px'>
                <span class="card-title center" th:text="#{demo.chat.friendList}">Friend list</span>
                <ul th:each="friend, iStat: ${friendList}">
                    <li th:id="'friend'+*{friend.getId()}" th:text="*{friend.getUsername()}" class='friend' 
                        th:onclick="setReceiver([[*{friend.getId()}]],[[*{friend.getUsername()}]])">
                    </li>
                </ul>
            </div>
            <div class="col s1" style='position: sticky; top: 5px;'>
                <form th:action="@{/logout}" method="post">
                    <button th:text="Logout" class="btn waves-effect waves-light"
                            type="submit" name="action"></button>
                </form>
            </div>

        </div>


        <div id="bananaDiv">
            <!--<div id='banana' class='dropAndFade' style="position: relative; top: 0px; left: 100px;height:50px; width: 50px; border: 1px solid red;"></div>-->
            <!--<img id='banana' src='banana.gif' onload='onBananaLoad()' style='position: relative; top: 0px; left: 100px;' height='50' width='50'/>-->
        </div>

        <script src="https://cdnjs.cloudflare.com/ajax/libs/sockjs-client/1.1.4/sockjs.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/stomp.js/2.3.3/stomp.min.js"></script>
        <script th:inline="javascript">
                        let username = /*[[${username}]]*/ "";
                        let userId = /*[[${userId}]]*/ "";
                        let friendsWithNewMessages = /*[[${friendsWithNewMessages}]]*/ "";
        </script>
        <script th:src="@{/js/chat.js}" type="text/javascript"></script>

    </body>
</html>

